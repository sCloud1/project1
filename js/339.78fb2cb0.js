"use strict";(self["webpackChunkmyshopping"]=self["webpackChunkmyshopping"]||[]).push([[339],{3339:function(t,s,r){r.r(s),r.d(s,{default:function(){return l}});r(560);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:t.queryGoodsName||"搜索商品","show-action":""},on:{click:function(s){return t.$router.push("/search")}},scopedSlots:t._u([{key:"action",fn:function(){return[s("van-icon",{staticClass:"tool",attrs:{name:"apps-o"},on:{click:function(s){return t.$router.push("/category")}}})]},proxy:!0}])}),s("div",{staticClass:"sort-btns"},[s("div",{staticClass:"sort-item",on:{click:t.sort1}},[t._v("综合")]),s("div",{staticClass:"sort-item",on:{click:t.sort2}},[t._v("销量")]),s("div",{staticClass:"sort-item",on:{click:t.sort3}},[t._v("价格 ")])]),s("div",{staticClass:"goods-list"},t._l(t.searchGoodsList,(function(t){return s("GoodsItem",{key:t.goods_id,attrs:{item:t}})})),1)],1)},o=[],i=r(6086),a=r(4471);const c=({sortType:t,categoryId:s,sortPrice:r,goodsName:e,page:o})=>a.Z.get("/goods/list",{params:{sortType:t,sortPrice:r,categoryId:s,goodsName:e,page:o}});var n={name:"SearchIndex",data(){return{searchGoodsList:[],sortType:"all",sortPrice:0,page:1}},created(){this.searchList()},methods:{async searchList(){const t=await c({sortType:this.sortType,sortPrice:this.sortPrice,goodsName:this.queryGoodsName,categoryId:this.queryCategoryId,page:this.page});this.searchGoodsList=t.data.list.data},sort1(){this.sortType="all",this.sortPrice=0,this.searchList()},sort2(){this.sortType="sales",this.sortPrice=0,this.searchList()},sort3(){this.sortType="price",0===this.sortPrice?this.sortPrice=1:1===this.sortPrice&&(this.sortPrice=0),this.searchList()}},computed:{queryGoodsName(){return this.$route.query.search},queryCategoryId(){return this.$route.query.categoryId}},components:{GoodsItem:i.Z}},h=n,u=r(1001),d=(0,u.Z)(h,e,o,!1,null,"c748e4bc",null),l=d.exports}}]);
//# sourceMappingURL=339.78fb2cb0.js.map